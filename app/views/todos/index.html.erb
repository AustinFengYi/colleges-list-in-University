<div class="container">
  <div class="row">
    <h1>大學學院</h1>
    <%= form_tag destroy_multiple_todos_path, method: :delete do %>
    <%= submit_tag "刪除選中", class:"btn btn-primary" %>
    <table class="table table-striped table-bordered">

      <thead>
        <tr>
          <th>
            <input type="checkbox" onclick="toggle_checkall('todo', this.checked);" />
          </th>

          <th>Faculty</th>
          <th>Intoduction</th>
          <th>Function</th>
        </tr>
      </thead>

      <tbody>
        <% @todos.each do |todo| %>
          <tr>       
            <td><%= check_box_tag "todo_ids[]", todo.id %></td>
                         
            
            <td><%= todo.name %></td>
            <td><%= todo.introduction %></td>      
            <td>
              <%= link_to "show", todo_path(todo) %>
              <%= link_to "edit", edit_todo_path(todo) %>
              <%= link_to "delete", todo_path(todo),method: :delete ,data:{confirm:"Are You Sure ?"} %>
             </td> 


          </tr>
        <% end %> 

      </tbody>
    </table> 
    <% end %>

    <%= link_to "New Department",new_todo_path %>
  </div>
</div>



<script>
function toggle_checkall(field_name, state) {
  var checkboxes = document.getElementsByTagName('input');
  var count = checkboxes.length;
  for (var i = 0; i < count; i++) {
    if (checkboxes[i].type == "checkbox"
        && checkboxes[i].name == field_name + "_ids[]") {
      checkboxes[i].checked = state;
    }
  }
}
</script>